<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Calvin Real Estate - Direct deals on premium Nairobi properties in Westlands, Karen, Kileleshwa. Trusted since 2025.">
    <title>Calvin Real Estate - Nairobi's Direct Deal Experts</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<header>
    <nav>
        <h1>Calvin Real Estate</h1>
        <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#properties">Featured</a></li>
            <li><a href="#gallery">Listings</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>
</header>

<!-- HERO UPGRADE: Authority hammer -->
<section class="hero" id="home">
    <div class="hero-overlay"></div>  <!-- For premium depth -->
    <div class="hero-content">
        <h2>Nairobi's Direct Deal King</h2>
        <p class="subline">Since 2025 â€¢ 100+ Properties Closed â€¢ Trusted in Westlands, Karen & Kileleshwa</p>
        <p class="claim">Zero Hidden Fees â€¢ Close in 30 Days or I Work for Free</p>
        <a href="#gallery" class="btn-hero">Talk to Calvin Now</a>
    </div>
</section>

<!-- ... keep your about, featured properties ... -->

<!-- LATEST LISTINGS: Gold cards, badges, hover CTA, no fake loading -->
<section id="gallery">
    <h2>Latest Listings</h2>
    <div class="gallery" id="property-container"></div>
</section>

<!-- TESTIMONIALS: Social proof spine -->
<section id="testimonials">
    <h2>What Clients Say</h2>
    <div class="testimonials-grid">
        <div class="testimonial">
            <p>"Calvin saved me millions with a direct deal â€” best in Nairobi!"</p>
            <strong>â€” John K., Westlands Buyer</strong>
        </div>
        <div class="testimonial">
            <p>"Fast, honest, no drama. Sold my Karen home in 2 weeks."</p>
            <strong>â€” Sarah M., Seller</strong>
        </div>
        <div class="testimonial">
            <p>"Professional from start to finish. Highly recommend Calvin."</p>
            <strong>â€” Mike O., Kileleshwa Investor</strong>
        </div>
    </div>
</section>

<!-- ... keep contact and footer ... -->

<!-- DARK MODE + GALLERY SCRIPT (gold only) -->
<button id="themeToggle">ðŸŒ™ Dark</button>

<script>
// Dark mode (fixed no overlap)
const btn = document.getElementById('themeToggle');
btn.onclick = () => {
  document.body.classList.toggle('dark-mode');
  btn.innerHTML = document.body.classList.contains('dark-mode') ? 'â˜€ï¸ Light' : 'ðŸŒ™ Dark';
};

// Gallery: No fake loading, badges, hover WhatsApp CTA
fetch('/static/properties.json?' + Date.now())
  .then(r => r.ok ? r.json() : [])
  .then(props => {
    const c = document.getElementById('property-container');
    if (!props.length) {
      c.innerHTML = '<p style="text-align:center;color:#888;">New listings coming soon â€” check back!</p>';
      return;
    }
    props.forEach(p => {
      const hot = p.price && p.price.includes('M') && parseFloat(p.price) < 30; // "Hot" under 30M
      c.innerHTML += `
        <article class="property">
          ${hot ? '<span class="badge hot">HOT DEAL</span>' : ''}
          <img src="/static/gallery/${p.img}" alt="${p.title}">
          <div class="overlay">
            <a href="https://wa.me/254796250286?text=Hi Calvin, interested in ${encodeURIComponent(p.title + ' - ' + p.price)}" class="quick-cta">Quick Inquiry on WhatsApp</a>
          </div>
          <h3>${p.title}</h3>
          <p>${p.desc}</p>
          <p class="price">${p.price}</p>
        </article>`;
    });
  });
</script>

<style>
/* Hero authority */
.hero-content { max-width: 900px; margin: auto; text-align: center; padding: 20px; }
.subline { font-size: 1.4rem; color: gold; margin: 15px 0; }
.claim { font-size: 1.8rem; font-style: italic; margin: 20px 0; }

/* Card gold: spacing, badges, hover */
.property { position: relative; overflow: hidden; margin: 20px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); transition: transform 0.3s; }
.property:hover { transform: translateY(-10px); }
.property img { width: 100%; height: 250px; object-fit: cover; transition: transform 0.4s; }
.property:hover img { transform: scale(1.05); }
.overlay { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); opacity: 0; transition: opacity 0.4s; }
.property:hover .overlay { opacity: 1; }
.quick-cta { background: gold; color: #001f3f; padding: 15px 30px; border-radius: 50px; font-weight: bold; text-decoration: none; }
.badge { position: absolute; top: 15px; left: 15px; background: red; color: white; padding: 8px 15px; border-radius: 5px; z-index: 2; font-size: 0.9rem; }
.badge.hot { background: orange; left: auto; right: 15px; }

/* Testimonials */
.testimonials-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; padding: 20px; }
.testimonial { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); text-align: center; }
.dark-mode .testimonial { background: #1e1e1e; }

/* Mobile gold */
@media (max-width: 768px) {
  .hero h2 { font-size: 2.5rem; }
  .claim { font-size: 1.5rem; }
  form input, form textarea, form button { padding: 15px; font-size: 1.1rem; }
  .btn-hero { padding: 18px 40px; }
}
</style>

</body>
</html>