<!DOCTYPE html>
<html>
<head>
    <title>Admin Dashboard</title>
    <style>body{font-family:sans-serif; padding:20px; max-width:800px; margin:auto;}</style>
</head>
<body>
    <h1>Property Management</h1>
    <form action="/admin-add" method="POST" style="background:#eee; padding:20px; border-radius:10px;">
        <h3>Add New Listing</h3>
        <input type="password" name="pw" placeholder="Admin Password" required><br><br>
        <input type="text" name="title" placeholder="Title" required>
        <input type="text" name="price" placeholder="Price" required>
        <input type="text" name="image_name" placeholder="Image Name (e.g. pexels5.jpeg)" required><br><br>
        <textarea name="desc" placeholder="Details" required></textarea><br><br>
        <button type="submit">Upload Property</button>
    </form>

    <hr>
    <h2>Existing Listings (Manage)</h2>
    {% for p in properties %}
    <div style="border-bottom: 1px solid #ccc; padding: 10px; display: flex; justify-content: space-between;">
        <span>{{ p.title }} - {{ p.price }}</span>
        <form action="/delete-property/{{ p.id }}" method="POST">
            <input type="password" name="pw" placeholder="Password" style="width:80px;" required>
            <button type="submit" style="color:red;">Delete</button>
        </form>
    </div>
    {% endfor %}
</body>
</html>